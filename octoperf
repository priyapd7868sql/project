package my.project;

import java.io.File;
import java.io.IOException;

import org.apache.commons.io.FileUtils;
import org.openqa.selenium.By;
import org.openqa.selenium.OutputType;
import org.openqa.selenium.TakesScreenshot;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.chrome.ChromeDriver;

public class Project {
	static WebDriver driver;
	public static void takesScreenshot(String fileName) throws IOException {
		// TODO Auto-generated method st
				String path="C:\\Users\\LENOVO\\eclipse-workspace\\my.project\\snap\\";
				TakesScreenshot ts=(TakesScreenshot)driver;
				File temp=ts.getScreenshotAs(OutputType.FILE);
				File dest=new File(path+fileName+".png");
				FileUtils.copyFile(temp,dest);
			}
	
			
    public static void main(String[]args) throws IOException {
				// TODO Auto-generated method
				WebElement homeLinkfish,product,addcart,checkout;
				String URL="https://petstore.octoperf.com/actions/Catalog.action";
				String HomeLinkfish="(//a[contains(@href,'BIRDS')])";
				String productLink="(//a[text()=\"AV-CB-01\"])";
				String addTocart ="//a[contains(@href,'EST-18') and @class='Button']";
				String checkoutButton="//a[contains(@href,'Orderform')]";
				driver =new ChromeDriver();
				driver.get(URL);
				homeLinkfish=driver.findElement(By.xpath(HomeLinkfish));
				takesScreenshot("HomeLink");
				homeLinkfish.click();
				product=driver.findElement(By.xpath(productLink));
				takesScreenshot("productLink");
				product.click();
				addcart=driver.findElement(By.xpath(addTocart));
				takesScreenshot("addTocart");
				addcart.click();
				checkout=driver.findElement(By.xpath(checkoutButton));
				takesScreenshot("checkout");
				checkout.click();
				driver.close();
		
				

	}




}
